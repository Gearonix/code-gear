"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),j=require("antd"),t=require("./index-d27105bd.js"),a=require("./editor-7b5858d4.js"),f=require("react"),B=require("react-smooth-scrollbar"),P=require("react-dom");require("react-router-dom");function z(n){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const r in n)if(r!=="default"){const o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}return s.default=n,Object.freeze(s)}const h=z(f);/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function D(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function I(){let[,n]=f.useState(Object.create(null));return f.useCallback(()=>{n(Object.create(null))},[])}var K=D()?f.useLayoutEffect:f.useEffect,A=({children:n,type:s="reach-portal",containerRef:r})=>{let o=h.useRef(null),c=h.useRef(null),i=I();return h.useEffect(()=>{r!=null&&(typeof r!="object"||!("current"in r)?console.warn("@reach/portal: Invalid value passed to the `containerRef` of a `Portal`. The portal will be appended to the document body, but if you want to attach it to another DOM node you must pass a valid React ref object to `containerRef`."):r.current==null&&console.warn("@reach/portal: A ref was passed to the `containerRef` prop of a `Portal`, but no DOM node was attached to it. Be sure to pass the ref to a DOM component.\n\nIf you are forwarding the ref from another component, be sure to use the React.forwardRef API. See https://reactjs.org/docs/forwarding-refs.html."))},[r]),K(()=>{if(!o.current)return;let g=o.current.ownerDocument,l=r?.current||g.body;return c.current=g?.createElement(s),l.appendChild(c.current),i(),()=>{c.current&&l&&l.removeChild(c.current)}},[s,i,r]),c.current?P.createPortal(n,c.current):h.createElement("span",{ref:o})},C=({unstable_skipInitialRender:n,...s})=>{let[r,o]=h.useState(!1);return h.useEffect(()=>{n&&o(!0)},[n]),n&&!r?null:h.createElement(A,{...s})};C.displayName="Portal";const q=()=>({opacity:{from:()=>({opacity:0}),to:()=>({opacity:1})},transform:{from:()=>({transform:"scale(0.9) rotate(8deg)",x:-150}),to:n=>({transform:n?"scale(1.0) rotate(0deg)":"scale(0.9) rotate(8deg)",x:n?0:-150})}}),F=({onClose:n,isOpen:s,children:r,width:o,height:c})=>{const{Spring:i,Gesture:g}=t.useAnimations(),{opacity:l,transform:p}=q(),d=i.useTransition(s,{from:l.from(),enter:l.to(),leave:l.from(),config:i.config.stiff}),b=i.useSpring({from:p.from(),to:p.to(s),config:i.config.wobbly}),[T,w]=i.useSpring(()=>({y:0,x:0,scale:1})),{y:O,x:k,scale:M}=T,v=g.useDrag(({offset:[x,m],down:S})=>{w.start({y:S?m:0,immediate:!1,x:S?x:0,scale:S?1.07:1})},{from:()=>[0,0],filterTaps:!0,rubberband:!0,delay:200}),E=x=>{x.stopPropagation()};return e.jsx(e.Fragment,{children:d((x,m)=>e.jsx(t.Display,{when:m,children:e.jsx(C,{children:e.jsx(t.ModalBackground,{style:x,onClick:n,as:i.a.div,children:e.jsx(t.ModalStyles,{style:{...b,x:k,y:O,scale:M},...v(),onClick:E,as:i.a.div,$width:o,$height:c,children:e.jsx(B,{damping:.05,syncCallbacks:!0,alwaysShowTracks:!0,children:e.jsx(t.ModalContainer,{children:r})})})})})}))})},L=n=>e.jsx(t.AnimationProvider,{children:e.jsx(F,{...n})}),u=({keyCode:n,children:s,experimental:r})=>e.jsxs(a.KeyBuildingStyles,{children:[e.jsxs(j.Typography.Text,{keyboard:!0,children:[r?"🧪":"✌️"," Alt + ",n]}),e.jsx(a.SettingsText,{style:{justifyContent:"space-around"},children:e.jsx("p",{children:s})})]}),N=()=>e.jsxs(e.Fragment,{children:[e.jsx(u,{keyCode:t.KeyBuildings.O,experimental:!0,children:"Open a file on your OS"}),e.jsx(u,{keyCode:t.KeyBuildings.S,experimental:!0,children:"Save a file on your OS"}),e.jsx(u,{keyCode:t.KeyBuildings.N,children:"Open new tab"}),e.jsx(u,{keyCode:t.KeyBuildings.T,children:"Close current tab"}),e.jsx(u,{keyCode:t.KeyBuildings.P,children:"Open/close terminal"}),e.jsx(u,{keyCode:t.KeyBuildings.J,children:"Open/close test cases"}),e.jsx(u,{keyCode:t.KeyBuildings.Q,children:"Open/close settings"})]}),U=t.observer(()=>{const n=t.useActions(),{fontSize:s}=t.useStore(),r=o=>{n.changeFontSize(o)};return e.jsx(t.Select,{onChange:r,value:s,options:t.fontSizes.map(o=>({value:o,label:`${o}px`}))})}),R=t.observer(()=>{const n=t.useActions(),{tabSize:s}=t.useStore(),r=o=>{n.changeTabSize(o)};return e.jsx(t.Select,{onChange:r,value:s,options:t.tabSizes.map(o=>({value:o,label:o}))})}),y=n=>{const{theme:s}=t.useStore(),r=t.useActions();return t.useDebounce((o,c)=>(s!==t.CUSTOM_THEME&&r.changeTheme(t.CUSTOM_THEME),n(c)),300)},_=t.observer(()=>{const n=t.useModalsContext(),s=n.state.isSettingsOpened,r=t.useActions(),{customBackground:o,customColor:c}=t.useStore(),i=()=>{n.update({isSettingsOpened:!1})},g=y(d=>{r.changeCustomBackground(d)}),l=y(d=>{r.changeCustomColor(d)}),p=d=>{r.setIsLocalStorageDisabled(!d)};return e.jsxs(L,{isOpen:s,onClose:i,children:[e.jsx(t.ModalTitle,{children:"Editor settings"}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Editor Theme"}),e.jsx("p",{children:"Choose the code editor theme"})]}),e.jsx(t.ThemeSwitcher,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Font Size"}),e.jsx("p",{children:"Choose your preferred font size"})]}),e.jsx(U,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Current Tab Language"}),e.jsx("p",{children:"Choose the code editor language (js, py, css)"})]}),e.jsx(t.LanguageSwitcher,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Tab size"}),e.jsx("p",{children:"Choose the width of a tab character"})]}),e.jsx(R,{})]}),e.jsx(t.ModalSeparator,{}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Custom Editor Background"}),e.jsx("p",{children:"Change custom background for code editor"})]}),e.jsx(j.ColorPicker,{onChange:g,value:o,showText:!0,size:"large"})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Custom Editor Color"}),e.jsx("p",{children:"Change custom color for code editor"})]}),e.jsx(j.ColorPicker,{onChange:l,value:c,showText:!0,size:"large"})]}),e.jsx(t.ModalSeparator,{}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Save editor settings to Local Storage"}),e.jsx("p",{children:"All your next changes will be stored in localStorage"})]}),e.jsx(j.Switch,{defaultChecked:!0,onChange:p,style:{marginRight:15,marginTop:0}})]}),e.jsx(t.ModalTitle,{children:"Key buildings"}),e.jsx(N,{}),e.jsx(t.ModalSeparator,{})]})});exports.default=_;
