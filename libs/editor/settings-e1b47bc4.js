"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),p=require("antd"),t=require("./index-49845543.js"),a=require("./editor-e8ae23b3.js"),f=require("react"),E=require("react-smooth-scrollbar"),M=require("react-dom");require("react-router-dom");function B(n){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const o in n)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,r.get?r:{enumerable:!0,get:()=>n[o]})}}return s.default=n,Object.freeze(s)}const g=B(f);/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function P(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function z(){let[,n]=f.useState(Object.create(null));return f.useCallback(()=>{n(Object.create(null))},[])}var D=P()?f.useLayoutEffect:f.useEffect,I=({children:n,type:s="reach-portal",containerRef:o})=>{let r=g.useRef(null),c=g.useRef(null),i=z();return g.useEffect(()=>{o!=null&&(typeof o!="object"||!("current"in o)?console.warn("@reach/portal: Invalid value passed to the `containerRef` of a `Portal`. The portal will be appended to the document body, but if you want to attach it to another DOM node you must pass a valid React ref object to `containerRef`."):o.current==null&&console.warn("@reach/portal: A ref was passed to the `containerRef` prop of a `Portal`, but no DOM node was attached to it. Be sure to pass the ref to a DOM component.\n\nIf you are forwarding the ref from another component, be sure to use the React.forwardRef API. See https://reactjs.org/docs/forwarding-refs.html."))},[o]),D(()=>{if(!r.current)return;let l=r.current.ownerDocument,d=o?.current||l.body;return c.current=l?.createElement(s),d.appendChild(c.current),i(),()=>{c.current&&d&&d.removeChild(c.current)}},[s,i,o]),c.current?M.createPortal(n,c.current):g.createElement("span",{ref:r})},C=({unstable_skipInitialRender:n,...s})=>{let[o,r]=g.useState(!1);return g.useEffect(()=>{n&&r(!0)},[n]),n&&!o?null:g.createElement(I,{...s})};C.displayName="Portal";const K=()=>({opacity:{from:()=>({opacity:0}),to:()=>({opacity:1})},transform:{from:()=>({transform:"scale(0.9) rotate(8deg)",x:-150}),to:n=>({transform:n?"scale(1.0) rotate(0deg)":"scale(0.9) rotate(8deg)",x:n?0:-150})}}),A=({onClose:n,isOpen:s,children:o})=>{const{Spring:r,Gesture:c}=t.useAnimations(),{opacity:i,transform:l}=K(),d=r.useTransition(s,{from:i.from(),enter:i.to(),leave:i.from(),config:r.config.stiff}),j=r.useSpring({from:l.from(),to:l.to(s),config:r.config.wobbly}),[u,b]=r.useSpring(()=>({y:0,x:0,scale:1})),{y:T,x:w,scale:O}=u,k=c.useDrag(({offset:[x,m],down:S})=>{b.start({y:S?m:0,immediate:!1,x:S?x:0,scale:S?1.07:1})},{from:()=>[0,0],filterTaps:!0,rubberband:!0,delay:200}),v=x=>{x.stopPropagation()};return e.jsx(e.Fragment,{children:d((x,m)=>e.jsx(t.Display,{when:m,children:e.jsx(C,{children:e.jsx(t.ModalBackground,{style:x,onClick:n,as:r.a.div,children:e.jsx(t.ModalStyles,{style:{...j,x:w,y:T,scale:O},...k(),onClick:v,as:r.a.div,children:e.jsx(E,{damping:.05,syncCallbacks:!0,alwaysShowTracks:!0,children:e.jsx(t.ModalContainer,{children:o})})})})})}))})},q=n=>e.jsx(t.AnimationProvider,{children:e.jsx(A,{...n})}),h=({keyCode:n,children:s,experimental:o})=>e.jsxs(a.KeyBuildingStyles,{children:[e.jsxs(p.Typography.Text,{keyboard:!0,children:[o?"🧪":"✌️"," Alt + ",n]}),e.jsx(a.SettingsText,{style:{justifyContent:"space-around"},children:e.jsx("p",{children:s})})]}),F=()=>e.jsxs(e.Fragment,{children:[e.jsx(h,{keyCode:t.KeyBuildings.O,experimental:!0,children:"Open a file on your OS"}),e.jsx(h,{keyCode:t.KeyBuildings.S,experimental:!0,children:"Save a file on your OS"}),e.jsx(h,{keyCode:t.KeyBuildings.N,children:"Open new tab"}),e.jsx(h,{keyCode:t.KeyBuildings.T,children:"Close current tab"}),e.jsx(h,{keyCode:t.KeyBuildings.P,children:"Open/close terminal"}),e.jsx(h,{keyCode:t.KeyBuildings.J,children:"Open/close test cases"}),e.jsx(h,{keyCode:t.KeyBuildings.Q,children:"Open/close settings"})]}),L=t.observer(()=>{const n=t.useActions(),{fontSize:s}=t.useStore(),o=r=>{n.changeFontSize(r)};return e.jsx(t.Select,{onChange:o,value:s,options:t.fontSizes.map(r=>({value:r,label:`${r}px`}))})}),N=t.observer(()=>{const n=t.useActions(),{tabSize:s}=t.useStore(),o=r=>{n.changeTabSize(r)};return e.jsx(t.Select,{onChange:o,value:s,options:t.tabSizes.map(r=>({value:r,label:r}))})}),y=n=>{const{theme:s}=t.useStore(),o=t.useActions();return t.useDebounce((r,c)=>(s!==t.CUSTOM_THEME&&o.changeTheme(t.CUSTOM_THEME),n(c)),300)},U=t.observer(()=>{const n=t.useModalsContext(),s=n.state.isSettingsOpened,o=t.useActions(),{customBackground:r,customColor:c}=t.useStore(),i=()=>{n.update({isSettingsOpened:!1})},l=y(u=>{o.changeCustomBackground(u)}),d=y(u=>{o.changeCustomColor(u)}),j=u=>{o.setIsLocalStorageDisabled(!u)};return e.jsxs(q,{isOpen:s,onClose:i,children:[e.jsx(a.Title,{children:"Editor settings"}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Editor Theme"}),e.jsx("p",{children:"Choose the code editor theme"})]}),e.jsx(t.ThemeSwitcher,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Font Size"}),e.jsx("p",{children:"Choose your preferred font size"})]}),e.jsx(L,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Current Tab Language"}),e.jsx("p",{children:"Choose the code editor language (js, py, css)"})]}),e.jsx(t.LanguageSwitcher,{})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Tab size"}),e.jsx("p",{children:"Choose the width of a tab character"})]}),e.jsx(N,{})]}),e.jsx(a.Separator,{}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Custom Editor Background"}),e.jsx("p",{children:"Change custom background for code editor"})]}),e.jsx(p.ColorPicker,{onChange:l,value:r,showText:!0,size:"large"})]}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Custom Editor Color"}),e.jsx("p",{children:"Change custom color for code editor"})]}),e.jsx(p.ColorPicker,{onChange:d,value:c,showText:!0,size:"large"})]}),e.jsx(a.Separator,{}),e.jsxs(a.SettingsItem,{children:[e.jsxs(a.SettingsText,{children:[e.jsx("h4",{children:"Save editor settings to Local Storage"}),e.jsx("p",{children:"All your next changes will be stored in localStorage"})]}),e.jsx(p.Switch,{defaultChecked:!0,onChange:j,style:{marginRight:15,marginTop:0}})]}),e.jsx(a.Title,{children:"Key buildings"}),e.jsx(F,{}),e.jsx(a.Separator,{})]})});exports.default=U;
