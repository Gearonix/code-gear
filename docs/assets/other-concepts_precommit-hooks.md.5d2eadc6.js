import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.0c952bb0.js";const u=JSON.parse('{"title":"Precommit Hooks","description":"","frontmatter":{},"headers":[],"relativePath":"other-concepts/precommit-hooks.md","filePath":"other-concepts/precommit-hooks.md","lastUpdated":1697535758000}'),o={name:"other-concepts/precommit-hooks.md"},l=e(`<h1 id="precommit-hooks" tabindex="-1">Precommit Hooks <a class="header-anchor" href="#precommit-hooks" aria-label="Permalink to &quot;Precommit Hooks&quot;">​</a></h1><p>The pre-commit hook is run first, before you even type in a commit message. I use <a href="https://typicode.github.io/husky/getting-started.html" target="_blank" rel="noreferrer">husky</a> for precommit hooks</p><p>The hooks are located in the <code>.husky</code> folder.</p><h2 id="commitlint" tabindex="-1">Commitlint <a class="header-anchor" href="#commitlint" aria-label="Permalink to &quot;Commitlint&quot;">​</a></h2><p><a href="https://commitlint.js.org/#/" target="_blank" rel="noreferrer">Commitlint</a> - is used for linting commits (wow), in my case I used <a href="https://gist.github.com/joshbuchea/6f47e86d2510bce28f8e7f42ae84c716" target="_blank" rel="noreferrer">semantic commit messages</a> plugin (like chore, feat, docs).</p><h4 id="an-example-of-commitlint-in-action" tabindex="-1">An example of commitlint in action: <a class="header-anchor" href="#an-example-of-commitlint-in-action" aria-label="Permalink to &quot;An example of commitlint in action:&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="color:#79B8FF;">.</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;$(</span><span style="color:#B392F0;">dirname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">--</span><span style="color:#9ECBFF;"> &quot;</span><span style="color:#79B8FF;">$0</span><span style="color:#9ECBFF;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dlx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">commitlint</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--edit</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">$1</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="color:#005CC5;">.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;$(</span><span style="color:#6F42C1;">dirname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">--</span><span style="color:#032F62;"> &quot;</span><span style="color:#005CC5;">$0</span><span style="color:#032F62;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dlx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">commitlint</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--edit</span><span style="color:#24292E;"> </span><span style="color:#E36209;">$1</span></span></code></pre></div><h2 id="lint-staged" tabindex="-1">Lint-Staged <a class="header-anchor" href="#lint-staged" aria-label="Permalink to &quot;Lint-Staged&quot;">​</a></h2><p><a href="https://github.com/okonet/lint-staged" target="_blank" rel="noreferrer">Lint-staged</a> - is a tool, what runs linters only on git staged files, to speed up the linting process before committing.</p><h4 id="an-example-of-lint-staged-in-action" tabindex="-1">An example of lint-staged in action: <a class="header-anchor" href="#an-example-of-lint-staged-in-action" aria-label="Permalink to &quot;An example of lint-staged in action:&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># .lintstagedrc</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;*.ts&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> [</span><span style="color:#9ECBFF;">&quot;yarn dlx nx lint&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># .lintstagedrc</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;*.ts&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> [</span><span style="color:#032F62;">&quot;yarn dlx nx lint&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="updating-dependencies" tabindex="-1">Updating Dependencies <a class="header-anchor" href="#updating-dependencies" aria-label="Permalink to &quot;Updating Dependencies&quot;">​</a></h2><p>Before each commit, try to update dependencies (using <a href="https://yarnpkg.com/package?name=yarn-upgrade-all" target="_blank" rel="noreferrer">yarn-upgrade-all</a> for example).</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="color:#79B8FF;">.</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;$(</span><span style="color:#B392F0;">dirname</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">--</span><span style="color:#9ECBFF;"> &quot;</span><span style="color:#79B8FF;">$0</span><span style="color:#9ECBFF;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dlx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yarn-upgrade-all</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lint-staged</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--relative</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="color:#005CC5;">.</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;$(</span><span style="color:#6F42C1;">dirname</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">--</span><span style="color:#032F62;"> &quot;</span><span style="color:#005CC5;">$0</span><span style="color:#032F62;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dlx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yarn-upgrade-all</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lint-staged</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--relative</span></span></code></pre></div><hr><p>By the way, <a href="https://github.com/dependabot" target="_blank" rel="noreferrer">dependabot</a> is connected to the project and little by little it sends PRs to update dependencies.</p>`,16),t=[l];function p(r,c,i,y,d,h){return a(),n("div",null,t)}const E=s(o,[["render",p]]);export{u as __pageData,E as default};
